!function($){$.fn.popr=function(options){var set=$.extend({speed:200,mode:"bottom"},options);return this.each((function(){var popr_cont=".popr_container_"+set.mode,popr_show=!0;$(this).click((function(event){$(".popr_container_top").remove(),$(".popr_container_bottom").remove(),popr_show?(event.stopPropagation(),popr_show=!1):popr_show=!0;var d_m=set.mode;$(this).attr("data-mode")&&(d_m=$(this).attr("data-mode"),popr_cont=".popr_container_"+d_m);var out='<div class="popr_container_'+d_m+'"><div class="popr_point_'+d_m+'"><div class="popr_content">'+$('div[data-box-id="'+$(this).attr("data-id")+'"]').html()+"</div></div></div>";$(this).append(out);var w_t=$(popr_cont).outerWidth(),w_e=$(this).width(),m_l=w_e/2-w_t/2;if($(popr_cont).css("margin-left",m_l+"px"),$(this).removeAttr("title alt"),"top"==d_m){var w_h=$(popr_cont).outerHeight()+39;$(popr_cont).css("margin-top","-"+w_h+"px")}$(popr_cont).fadeIn(set.speed),setTimeout(()=>{if(!popr_show){let coords=$(popr_cont)[0].getBoundingClientRect(),epsilon=15;window.innerWidth-coords.left-epsilon<w_t&&($(popr_cont).css("margin-left","-"+(w_t-2*w_e)+"px"),$(".popr_point_"+d_m).addClass("at_corner"))}},1)})),$("html").click((function(){$(".popr_container_top").remove(),$(".popr_container_bottom").remove(),popr_show=!0}))}))}}(jQuery);